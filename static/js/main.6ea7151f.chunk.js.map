{"version":3,"sources":["FileInput.js","Show.js","Viewer.js","App.js","index.js"],"names":["FileInput","react_default","a","createElement","className","id","type","accept","onChange","this","props","htmlFor","Component","tumblr_re","Iframe","_ref","src","title","restProps","Object","objectWithoutProperties","assign","frameBorder","scrolling","Strategy","_ref2","url","host","pathname","slice","protocol","replace","test","style","backgroundImage","concat","href","origin","match","searchParams","get","split","_url$pathname$match$s","_url$pathname$match$s2","slicedToArray","username","pic_id","src_base","toLowerCase","join","Show_Iframe","Show","_ref3","link","URL","Show_Strategy","shuffled","inp","arr","i","length","j","Math","floor","random","Viewer","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleKeys","e","code","prev","next","shuffle","_this$state","state","pos","q","setState","min","max","links","window","addEventListener","removeEventListener","_this$state2","disabled","onClick","Show_Show","key","App","handleChange","evt","fr","readAsText","target","files","FileReader","file","result","map","row","backgroundColor","width","height","display","justifyContent","alignItems","FileInput_FileInput","Viewer_Viewer","ReactDOM","render","App_App","document","getElementById"],"mappings":"uSAGqBA,0LAEjB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,SAAOE,GAAG,aAAaC,KAAK,OAAOC,OAAO,OAAOC,SAAUC,KAAKC,MAAMF,WACtEP,EAAAC,EAAAC,cAAA,SAAOQ,QAAQ,cAAf,yBAN+BC,4BCAjCC,SAAY,8BAEZC,EAAS,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,IAAKC,EAARF,EAAQE,MAAUC,EAAlBC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,wBACbd,EAAAC,EAAAC,cAAA,SAAAgB,OAAAE,OAAA,CACEJ,MAAOA,EACPD,IAAKA,EACLM,YAAY,IACZC,UAAU,MACNL,KAIFM,EAAW,SAAAC,GAAa,IACxBR,EAAOD,EADOU,EAAUD,EAAVC,IAElB,QAAQ,GACN,IAAkB,gBAAbA,EAAIC,KACP,GAAiC,QAA7BD,EAAIE,SAASC,MAAM,EAAG,GAAc,CACtCZ,EAAQ,QACRD,EACEU,EAAII,SACJ,eACAJ,EAAIE,SAASC,MAAM,GAAGE,QAAQ,OAAQ,IACtC,kBACF,MAGJ,KAAKlB,EAAUmB,KAAKN,EAAIC,MACtB,OACE1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAM6B,MAAO,CAAEC,gBAAe,OAAAC,OAAST,EAAIU,KAAb,QAEjD,IAAkB,eAAbV,EAAIC,KACPV,EAAQ,SACRD,EAAMU,EAAIW,OAAS,OAASX,EAAIE,SAChC,MACF,IAAkB,oBAAbF,EAAIC,KACPV,EAAQ,UACRD,EACEU,EAAIW,OAAS,eAAiBX,EAAIE,SAASU,MAAM,kBAAkB,GACrE,MACF,IAAkB,oBAAbZ,EAAIC,KACPV,EAAQ,UACRD,EAAMU,EAAIW,OAAS,UAAYX,EAAIa,aAAaC,IAAI,WACpD,MACF,IAAkB,iBAAbd,EAAIC,KACPV,EAAQ,WACRD,EAAMU,EAAIW,OAAS,UAAYX,EAAIE,SAASa,MAAM,KAAK,GACvD,MACF,IAAkB,2BAAbf,EAAIC,KAAT,IAAAe,EAC6BhB,EAAIE,SAC5BU,MAAM,mCACNT,MAAM,GAHXc,EAAAxB,OAAAyB,EAAA,EAAAzB,CAAAuB,EAAA,GACSG,EADTF,EAAA,GACmBG,EADnBH,EAAA,GAIQI,EAAW,CACf,sCACAF,EAAS,GAAGG,cACZH,EACAC,GACAG,KAAK,KACP,OACEhD,EAAAC,EAAAC,cAAA,OACEC,UAAU,MACV6B,MAAO,CACLC,gBAAe,OAAAC,OAASY,EAAT,eAAAZ,OAA+BY,EAA/B,YAIvB,QACE9B,EAAQ,UACRD,EAAMU,EAAIU,KAEd,OAAOnC,EAAAC,EAAAC,cAAC+C,EAAD,CAAQlC,IAAKA,EAAKC,MAAOA,KAGnB,SAASkC,EAATC,GAAwB,IAARC,EAAQD,EAARC,KACvB3B,EAAM,IAAI4B,IAAID,GACpB,OAAOpD,EAAAC,EAAAC,cAACoD,EAAD,CAAU7B,IAAKA,UCzExB,SAAS8B,EAASC,GAEhB,IADA,IAAMC,EAAMD,EAAI5B,QACP8B,EAAID,EAAIE,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACvC,IAAME,EAAIC,KAAKC,MAAMD,KAAKE,UAAYL,EAAI,IADH5C,EAEpB,CAAC2C,EAAIG,GAAIH,EAAIC,IAA/BD,EAAIC,GAFkC5C,EAAA,GAE9B2C,EAAIG,GAF0B9C,EAAA,GAIzC,OAAO2C,MAGYO,cACnB,SAAAA,EAAYvD,GAAO,IAAAwD,EAAA,OAAA/C,OAAAgD,EAAA,EAAAhD,CAAAV,KAAAwD,IACjBC,EAAA/C,OAAAiD,EAAA,EAAAjD,CAAAV,KAAAU,OAAAkD,EAAA,EAAAlD,CAAA8C,GAAAK,KAAA7D,KAAMC,KAeR6D,WAAa,SAAAC,GACX,OAAQA,EAAEC,MACR,IAAK,YACL,IAAK,OACH,OAAOP,EAAKQ,OACd,IAAK,aACL,IAAK,OACH,OAAOR,EAAKS,OACd,IAAK,YACL,IAAK,OACH,OAAOT,EAAKU,UACd,QACE,SA5BaV,EAgCnBS,KAAO,WAAM,IAAAE,EACQX,EAAKY,MAAhBC,EADGF,EACHE,IAAKC,EADFH,EACEG,EACbd,EAAKe,SAAS,CAAEF,IAAKjB,KAAKoB,IAAIH,EAAM,EAAGC,EAAEpB,OAAS,MAlCjCM,EAqCnBQ,KAAO,WAAM,IACHK,EAAQb,EAAKY,MAAbC,IACRb,EAAKe,SAAS,CAAEF,IAAKjB,KAAKqB,IAAIJ,EAAM,EAAG,MAvCtBb,EA0CnBU,QAAU,WACRV,EAAKe,SAAS,CAAEF,IAAK,EAAGC,EAAGxB,EAASU,EAAKY,MAAME,MAzC/Cd,EAAKY,MAAQ,CACXE,EAAGxB,EAAS9C,EAAM0E,OAClBL,IAAK,GAJUb,mFASjBmB,OAAOC,iBAAiB,UAAW7E,KAAK8D,2DAIxCc,OAAOE,oBAAoB,UAAW9E,KAAK8D,6CAiCpC,IAAAiB,EACY/E,KAAKqE,MAAhBE,EADDQ,EACCR,EAAGD,EADJS,EACIT,IACX,OACE9E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,UAAQsF,SAAkB,IAARV,EAAWW,QAASjF,KAAKiE,MAA3C,YAGAzE,EAAAC,EAAAC,cAAA,UAAQuF,QAASjF,KAAKmE,SAAtB,WACA3E,EAAAC,EAAAC,cAAA,UAAQsF,SAAUV,IAAQC,EAAEpB,OAAS,EAAG8B,QAASjF,KAAKkE,MAAtD,SAIF1E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAACwF,EAAD,CAAMC,IAAKZ,EAAED,GAAM1B,KAAM2B,EAAED,cA7DDnE,aCTfiF,cACnB,SAAAA,EAAYnF,GAAO,IAAAwD,EAAA,OAAA/C,OAAAgD,EAAA,EAAAhD,CAAAV,KAAAoF,IACjB3B,EAAA/C,OAAAiD,EAAA,EAAAjD,CAAAV,KAAAU,OAAAkD,EAAA,EAAAlD,CAAA0E,GAAAvB,KAAA7D,KAAMC,KAYRoF,aAAe,SAAAC,GAAG,OAAI7B,EAAK8B,GAAGC,WAAWF,EAAIG,OAAOC,MAAM,KAXxDjC,EAAK8B,GAAK,IAAII,WACdlC,EAAK8B,GAAGV,iBAAiB,UAAW,WAClC,IAAMe,EAAOnC,EAAK8B,GAAGM,OAClB7D,MAAM,MACN8D,IAAI,SAAAC,GAAG,OAAIA,EAAI/D,MAAM,KAAK,KAC1BZ,MAAM,GACTqC,EAAKe,SAAS,CAAEoB,WAElBnC,EAAKY,MAAQ,CAAEuB,KAAM,MAVJnC,wEAgBjB,OAAwB,OAApBzD,KAAKqE,MAAMuB,KAEXpG,EAAAC,EAAAC,cAAA,OACE8B,MAAO,CACLwE,gBAAiB,QACjBC,MAAO,OACPC,OAAQ,OACRC,QAAS,OACTC,eAAgB,SAChBC,WAAY,WAGd7G,EAAAC,EAAAC,cAAC4G,EAAD,CAAWvG,SAAUC,KAAKqF,gBAIzB7F,EAAAC,EAAAC,cAAC6G,EAAD,CAAQ5B,MAAO3E,KAAKqE,MAAMuB,cAjCJzF,aCCjCqG,IAASC,OAAOjH,EAAAC,EAAAC,cAACgH,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.6ea7151f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport \"./FileInput.css\";\n\nexport default class FileInput extends Component {\n  render() {\n    return (\n      <div className=\"file-input-container\">\n        <h1>BFV</h1>\n        <input id=\"file-input\" type=\"file\" accept=\".csv\" onChange={this.props.onChange} />\n        <label htmlFor=\"file-input\">Choose a file</label>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Show.css\"\n\nconst tumblr_re = /^\\d+?\\.media\\.tumblr\\.com$/;\n\nconst Iframe = ({ src, title, ...restProps }) => (\n  <iframe\n    title={title}\n    src={src}\n    frameBorder=\"0\"\n    scrolling=\"no\"\n    {...restProps}\n  />\n);\n\nconst Strategy = ({ url }) => {\n  let title, src;\n  switch (true) {\n    case url.host === \"i.imgur.com\":\n      if (url.pathname.slice(0, 3) === \"/a/\") {\n        title = \"imgur\";\n        src =\n          url.protocol +\n          \"//imgur.com/\" +\n          url.pathname.slice(1).replace(\".jpg\", \"\") +\n          \"/embed?pub=true\";\n        break;\n      }\n    // eslint-disable-next-line -- FALLTHROUGH\n    case tumblr_re.test(url.host):\n      return (\n        <div className=\"img\" style={{ backgroundImage: `url(${url.href})` }} />\n      );\n    case url.host === \"gfycat.com\":\n      title = \"gfycat\";\n      src = url.origin + \"/ifr\" + url.pathname;\n      break;\n    case url.host === \"www.xvideos.com\":\n      title = \"xvideos\";\n      src =\n        url.origin + \"/embedframe/\" + url.pathname.match(/\\/video(\\d+)\\//)[1];\n      break;\n    case url.host === \"www.pornhub.com\":\n      title = \"pornhub\";\n      src = url.origin + \"/embed/\" + url.searchParams.get(\"viewkey\");\n      break;\n    case url.host === \"xhamster.com\":\n      title = \"xhamster\";\n      src = url.origin + \"/embed/\" + url.pathname.split(\"/\")[2];\n      break;\n    case url.host === \"www.hentai-foundry.com\":\n      const [username, pic_id] = url.pathname\n        .match(/^\\/pictures\\/user\\/(.*)\\/(.*)\\//)\n        .slice(1);\n      const src_base = [\n        \"https://pictures.hentai-foundry.com\",\n        username[0].toLowerCase(),\n        username,\n        pic_id\n      ].join(\"/\");\n      return (\n        <div\n          className=\"img\"\n          style={{\n            backgroundImage: `url(${src_base}.jpg), url(${src_base}.png)`\n          }}\n        />\n      );\n    default:\n      title = \"default\";\n      src = url.href;\n  }\n  return <Iframe src={src} title={title} />;\n};\n\nexport default function Show({ link }) {\n  const url = new URL(link);\n  return <Strategy url={url} />;\n}\n","import React, { Component } from \"react\";\nimport Show from \"./Show\";\nimport \"./Viewer.css\";\n\nfunction shuffled(inp) {\n  const arr = inp.slice();\n  for (let i = arr.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [arr[i], arr[j]] = [arr[j], arr[i]];\n  }\n  return arr;\n}\n\nexport default class Viewer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      q: shuffled(props.links),\n      pos: 0\n    };\n  }\n\n  componentDidMount(){\n    window.addEventListener('keydown', this.handleKeys)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeys)\n  }\n\n  handleKeys = e => {\n    switch (e.code) {\n      case \"ArrowLeft\":\n      case \"KeyA\":\n        return this.prev();\n      case \"ArrowRight\":\n      case \"KeyD\":\n        return this.next();\n      case \"ArrowDown\":\n      case \"KeyS\":\n        return this.shuffle();\n      default:\n        return;\n    }\n  }\n\n  next = () => {\n    const { pos, q } = this.state;\n    this.setState({ pos: Math.min(pos + 1, q.length - 1) });\n  };\n\n  prev = () => {\n    const { pos } = this.state;\n    this.setState({ pos: Math.max(pos - 1, 0) });\n  };\n\n  shuffle = () => {\n    this.setState({ pos: 0, q: shuffled(this.state.q) });\n  };\n\n  render() {\n    const { q, pos } = this.state;\n    return (\n      <div className=\"viewer-container\">\n        <div className=\"button-container\">\n          <button disabled={pos === 0} onClick={this.prev}>\n            Previous\n          </button>\n          <button onClick={this.shuffle}>Shuffle</button>\n          <button disabled={pos === q.length - 1} onClick={this.next}>\n            Next\n          </button>\n        </div>\n        <div className=\"item-container\">\n          <Show key={q[pos]} link={q[pos]} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport FileInput from \"./FileInput\";\nimport Viewer from \"./Viewer\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.fr = new FileReader();\n    this.fr.addEventListener(\"loadend\", () => {\n      const file = this.fr.result\n        .split(\"\\n\")\n        .map(row => row.split(\",\")[1])\n        .slice(1);\n      this.setState({ file });\n    });\n    this.state = { file: null };\n  }\n\n  handleChange = evt => this.fr.readAsText(evt.target.files[0]);\n\n  render() {\n    if (this.state.file === null) {\n      return (\n        <div\n          style={{\n            backgroundColor: \"black\",\n            width: \"100%\",\n            height: \"100%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          }}\n        >\n          <FileInput onChange={this.handleChange} />\n        </div>\n      );\n    }\n    return <Viewer links={this.state.file} />;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}